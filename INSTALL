This is the INSTALL file for IOFORMS.

This file gives you instructions on how to download IOFORMS and
compile it from source code.

IOFORMS works on Windows and Mac, but compiling IOFORMS on those
platforms may require additional steps (such as installing the
included SDL binary DLL's in the included win32/ subfolder of the
IOFORMS source directory.)

More instructions for Mac and Windows will be available soon.

1. System Requirements (All Platforms)

    - A text editor (preferably Emacs; http://www.gnu.org/software/emacs)

    - A Common Lisp implementation such as Steel Bank Common Lisp (see
      platform-specific notes below for suggestions on SBCL; CLISP and
      CCL have also been reported to work.)

    - A working OpenGL implementation. Hardware acceleration is
      strongly recommended. (Most fairly recent Mac and Windows
      machines will have OpenGL drivers already.)

    - Git, a distributed version control system client.
      http://git-scm.com/

1a. System Requirements (Linux)

   You need a recent release of SBCL, such as 1.0.47.24. You must also
   have the SDL (Simple Direct Media Layer) libraries installed on
   your system. How to do this is beyond the scope of this
   document. See http://www.libsdl.org for more information.

   Your Linux distribution will most likely have SDL packages for
   sbal, sdl, sdl-image, sdl-mixer, sdl-ttf, and sdl-gfx, all of which
   are required for to compile IOFORMS.

1b. System Requirements (Windows)

   You will need a Windows version of SBCL from http://sbcl.org

1c. System Requirements (Macintosh)

   [THIS SECTION REMAINS TO BE WRITTEN]

2. If you have not already done so, download IOFORMS:
  
   mkdir ~/src
   cd ~/src
   git clone git://github.com/dto/ioforms.git 

3. Then link the ioforms.asd file into your ~/.sbcl/systems directory:

   mkdir ~/.sbcl
   mkdir ~/.sbcl/systems
   ln -s ~/src/ioforms/ioforms.asd ~/.sbcl/systems/ioforms.asd

4. Install LISPBUILDER-SDL. 
    
    The recommended method is Quicklisp: see http://www.quicklisp.org/
    It takes only a few moments to install Quicklisp. 
    If you don't have Quicklisp, you can follow these instructions.

4a. (OPTIONAL) The latest development version of LISPBUILDER-SDL is
    also available. Use Subversion to check out the source code:

    mkdir ~/src
    cd ~/src
    svn checkout http://lispbuilder.googlecode.com/svn/trunk/ lispbuilder

    Then symlink all the .asd files in that tree into ~/.sbcl/systems
    (or wherever your .ASD files go) like this:

    cd ~/.sbcl/systems
    for i in `find ~/src/lispbuilder -name "*.asd"`; do ln -s $i .; done

6. (OPTIONAL) Configure project folders

   The distribution contains a text configuration file called
   IOFORMS.INI; by default the executable looks for it in the same
   directory.

   To run projects, IOFORMS needs a line like this added to the INI
   file so that it will know where to find them.

  (setf ioforms:*project-directories* '(#P"~/ioforms/" #P"~/projects/"))

   The first item should be the pathname of wherever you installed the
   IOFORMS source tree. This is auto-detected as the current directory
   if you don't set it. NOTE: These must be pathnames (prefixed with
   #P) and must contain a trailing slash.

   The other directories should contain game modules. For example:

    mkdir ~/projects
    cd ~/projects
    git clone git://github.com/dto/xong.git

   Now that the example game "XONG" is installed, we're ready to go.

7. At the shell, cd to the install directory for IOFORMS, run SBCL, and
   then issue the following commands at the REPL one by one:

   ;; load dependencies via Quicklisp
    (map nil #'ql:quickload (list "lispbuilder-sdl-mixer" "lispbuilder-sdl-ttf" "lispbuilder-sdl-gfx" "lispbuilder-sdl-image" "cl-opengl") 

    ;; compile and load IOFORMS
    (require :ioforms)

    ;; run the example
    (ioforms:play "example")  ;; or the name of any module in your *module-directories*

7a. If you get an error about TRIVIAL-FEATURES-TESTS, try this:
    (require :trivial-features-tests)

