This is the INSTALL file for IOFORMS, with instructions on getting
the system installed and running from source.

NOTE: Users of Windows and Mac OSX do not need to follow the
instructions in this file unless they are building IOFORMS from
source code. 

1. System Requirements 

   Linux users will need a Common Lisp implementation---currently
   IOFORMS has only been tested with SBCL (Steel Bank Common
   Lisp). You must also have the SDL (Simple Direct Media Layer)
   libraries installed on your system. How to do this is beyond the
   scope of this document. See http://www.libsdl.org for more
   information.

   Your Linux distribution will have SDL packages for sdl, sdl-image,
   sdl-mixer, and sdl-gfx, all of which are required libraries.

2. If you have not already done so, download IOFORMS:
  
   mkdir ~/src
   cd ~/src
   git clone git://github.com/dto/ioforms.git 

3. Then link the ioforms.asd file into your ~/.sbcl/systems directory:

   mkdir ~/.sbcl
   mkdir ~/.sbcl/systems
   ln -s ~/src/ioforms/ioforms.asd ~/.sbcl/systems/ioforms.asd

4. Install LISPBUILDER-SDL. 
    
    The recommended method is Quicklisp: see http://www.quicklisp.org/
    It takes only a few moments to install Quicklisp. Once that's done
    you can install and load everything with just this command at the
    SBCL prompt:

        (map nil #'ql:quickload 
   	      '("lispbuilder-sdl-gfx" 
                "lispbuilder-sdl-mixer" 
                "lispbuilder-sdl-image"
 	        "lispbuilder-sdl-ttf"))

   If you don't have Quicklisp, you can follow these instructions.

4a. (OPTIONAL) The latest development version of LISPBUILDER-SDL is
    also available. Use Subversion to check out the source code:

    mkdir ~/src
    cd ~/src
    svn checkout http://lispbuilder.googlecode.com/svn/trunk/ lispbuilder

    Then symlink all the .asd files in that tree into ~/.sbcl/systems
    (or wherever your .ASD files go) like this:

    cd ~/.sbcl/systems
    for i in `find ~/src/lispbuilder -name "*.asd"`; do ln -s $i .; done

6. (OPTIONAL) Configure project folders

   Add something like this to a new file called ~/.ioformsrc:

  (setf ioforms:*module-directories* '(#P"/home/USERNAME/src/ioforms/" #P"/home/USERNAME/modules/"))

The first item should be the pathname of wherever you installed the
IOFORMS source tree. This is auto-detected as the current directory if
you don't set it. NOTE: These must be pathnames (prefixed with #P) and
must contain a trailing slash.

The other directory should contain game modules. For example:

    cd ~/modules
    git clone git://github.com/dto/terahertz.git
    mv terahertz thz

7. At the shell, cd to the install directory for IOFORMS, run SBCL, and
   then at the REPL:

    (require :ioforms)
    (ioforms:play "thz")  ;; or the name of a module in ~/modules

  If you get an error about TRIVIAL-FEATURES-TESTS, try this:
  (require :trivial-features-tests)

8. Here is my example .ioformsrc:

    ;; -*- Mode: lisp -*-

    (setf ioforms:*module-directories* '(#P"/home/dto/ioforms/" 
    	  			     #P"/home/dto/modules/"))
    (setf ioforms:*user-keyboard-layout* :qwerty)
    (setf ioforms:*use-sound* t)
    (setf ioforms:*message-logging* t)
     ;; fullscreen is a pain if IOFORMS hangs
    (setf ioforms:*fullscreen* nil)

  
